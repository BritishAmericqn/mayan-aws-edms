Version 4.3
===========

Released: XX, 2022

Status: Stable

Changes
-------



Removals
--------

- Python package ``django-pure-pagination``.
- Python package ``mock``.


Upgrade process
---------------

.. important::

  If using a direct deployment, Supervisord must be upgraded to version
  4.2.2. See troubleshooting section: :ref:`troubleshooting-version-4.1`


.. include:: partials/upgrade-3.5-4.0.txt


Troubleshooting
---------------

Follow the solutions outlined in the troubleshooting section:
:ref:`troubleshooting-version-4.1`


Backward incompatible changes
-----------------------------

- The ``preparestatic`` command is now named ``appearance_prepare_static``.
- The ``purgeperiodictasks`` command is now named
  ``task_manager_purge_periodic_tasks``.
- The ``purgelocks`` command is now named ``lock_manager_purge_locks``.
- The permission "View error log" is now required to view document version
  OCR error logs.
- The permission "View error log" is now required to view document file
  parsing error logs.


Deprecations
------------

- The ``mountindex`` management command will be removed in an upcoming
  minor version. Use the ``mirroring_mount_index`` command instead.
- The Cabinet API serializer field named ``parent``, will be removed in
  version 5.0. Use the ``parent_id`` instead which is functionally identical.
- The ``IndexTemplateNodeSerializer`` serializer fields ``parent`` and ``index``
  will be removed in version 5.0. Use fields ``parent_id`` and ``index_id``
  which are functionally identical.
- The ``WorkflowInstanceSerializer`` field named ``workflow_template_url``
  will be removed in version 5.0. Use the ``url`` attribute of the
  ``workflow_template`` instead.


Issues closed
-------------

- :gitlab-issue:`957` Add document parser test to ensure office files are parsed for content

.. _PyPI: https://pypi.python.org/pypi/mayan-edms/
